{"version":3,"sources":["../../routes/item.js"],"names":["express","require","router","Router","Item","get","req","res","next","console","log","user","render","title","find","err","items","send","post","newItem","name","body","price","qty","watt","rating","save","item","json","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;AACA,IAAIC,OAAOH,QAAQ,uBAAR,CAAX;;AAEAC,OAAOG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrCC,YAAQC,GAAR,CAAYJ,IAAIK,IAAhB;AACAJ,QAAIK,MAAJ,CAAW,OAAX,EAAoB,EAAEC,OAAO,WAAT,EAAsBF,MAAKL,IAAIK,IAA/B,EAApB;AACH,CAHD;;AAMAT,OAAOG,GAAP,CAAW,QAAX,EAAqB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC3CJ,SAAKU,IAAL,CAAU,EAAV,EAAc,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAChC,YAAID,GAAJ,EAAS,OAAOR,IAAIU,IAAJ,CAASF,GAAT,CAAP;AACTR,YAAIK,MAAJ,CAAW,OAAX,EAAoB,EAACD,MAAML,IAAIK,IAAX,EAAiBK,OAAOA,KAAxB,EAApB;AACH,KAHD;AAIH,CALD;AAMAd,OAAOgB,IAAP,CAAY,YAAZ,EAA0B,UAAUZ,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChD,QAAIW,UAAU,IAAIf,IAAJ,EAAd;AACAe,YAAQC,IAAR,GAAed,IAAIe,IAAJ,CAASD,IAAxB;AACAD,YAAQG,KAAR,GAAgBhB,IAAIe,IAAJ,CAASC,KAAzB;AACAH,YAAQI,GAAR,GAAcjB,IAAIe,IAAJ,CAASE,GAAvB;;AAEA,QAAIjB,IAAIe,IAAJ,CAASG,IAAb,EAAmBL,QAAQM,MAAR,CAAeD,IAAf,GAAsBlB,IAAIe,IAAJ,CAASG,IAA/B;;AAEnBL,YAAQO,IAAR,CAAa,UAAUX,GAAV,EAAeY,IAAf,EAAqB;AAC9B,YAAGZ,GAAH,EAAO,OAAOR,IAAIU,IAAJ,CAASF,GAAT,CAAP;AACPR,YAAIqB,IAAJ,CAASD,IAAT;AACH,KAHD;AAKH,CAbD;AAcAE,OAAOC,OAAP,GAAiB5B,MAAjB","file":"item.js","sourcesContent":["const express = require('express');\nconst router = express.Router();\nlet Item = require('../models/items.model');\n\nrouter.get('/', function(req, res, next) {\n    console.log(req.user);\n    res.render('index', { title: 'Dashboard', user:req.user });\n});\n\n\nrouter.get('/items', function (req, res, next) {\n    Item.find({}, function (err, items) {\n        if (err) return res.send(err);\n        res.render('items', {user: req.user, items: items});\n    });\n});\nrouter.post('/items/add', function (req, res, next) {\n    let newItem = new Item();\n    newItem.name = req.body.name;\n    newItem.price = req.body.price;\n    newItem.qty = req.body.qty;\n\n    if (req.body.watt) newItem.rating.watt = req.body.watt;\n\n    newItem.save(function (err, item) {\n        if(err)return res.send(err);\n        res.json(item);\n    })\n\n});\nmodule.exports = router;"]}