{"version":3,"sources":["../../routes/item.js"],"names":["express","require","router","Router","Item","get","req","res","next","render","title","user","find","err","items","send","post","findOne","_id","body","item","name","qty","newItem","price","watt","rating","save","json","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;AACA,IAAIC,OAAOH,QAAQ,uBAAR,CAAX;;AAEAC,OAAOG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrCD,QAAIE,MAAJ,CAAW,OAAX,EAAoB,EAAEC,OAAO,WAAT,EAAsBC,MAAKL,IAAIK,IAA/B,EAApB;AACH,CAFD;;AAKAT,OAAOG,GAAP,CAAW,QAAX,EAAqB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC3CJ,SAAKQ,IAAL,CAAU,EAAV,EAAc,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAChC,YAAID,GAAJ,EAAS,OAAON,IAAIQ,IAAJ,CAASF,GAAT,CAAP;AACTN,YAAIE,MAAJ,CAAW,OAAX,EAAoB,EAACE,MAAML,IAAIK,IAAX,EAAiBG,OAAOA,KAAxB,EAApB;AACH,KAHD;AAIH,CALD;;AAOAZ,OAAOc,IAAP,CAAY,eAAZ,EAA6B,UAAUV,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACnDJ,SAAKa,OAAL,CAAa,EAACC,KAAIZ,IAAIa,IAAJ,CAASD,GAAd,EAAb,EAAiC,UAAUL,GAAV,EAAeO,IAAf,EAAqB;AACnDA,aAAKC,IAAL,GAAYf,IAAIa,IAAJ,CAASE,IAArB;AACAD,aAAKE,GAAL,GAAWhB,IAAIa,IAAJ,CAASG,GAApB;AACF,KAHD;AAIH,CALD;;AAOApB,OAAOc,IAAP,CAAY,YAAZ,EAA0B,UAAUV,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChD,QAAIe,UAAU,IAAInB,IAAJ,EAAd;AACAmB,YAAQF,IAAR,GAAef,IAAIa,IAAJ,CAASE,IAAxB;AACAE,YAAQC,KAAR,GAAgBlB,IAAIa,IAAJ,CAASK,KAAzB;AACAD,YAAQD,GAAR,GAAchB,IAAIa,IAAJ,CAASG,GAAvB;;AAEA,QAAIhB,IAAIa,IAAJ,CAASM,IAAb,EAAmBF,QAAQG,MAAR,CAAeD,IAAf,GAAsBnB,IAAIa,IAAJ,CAASM,IAA/B;;AAEnBF,YAAQI,IAAR,CAAa,UAAUd,GAAV,EAAeO,IAAf,EAAqB;AAC9B,YAAGP,GAAH,EAAO,OAAON,IAAIQ,IAAJ,CAASF,GAAT,CAAP;AACPN,YAAIqB,IAAJ,CAASR,IAAT;AACH,KAHD;AAKH,CAbD;AAcAS,OAAOC,OAAP,GAAiB5B,MAAjB","file":"item.js","sourcesContent":["const express = require('express');\nconst router = express.Router();\nlet Item = require('../models/items.model');\n\nrouter.get('/', function(req, res, next) {\n    res.render('index', { title: 'Dashboard', user:req.user });\n});\n\n\nrouter.get('/items', function (req, res, next) {\n    Item.find({}, function (err, items) {\n        if (err) return res.send(err);\n        res.render('items', {user: req.user, items: items});\n    });\n});\n\nrouter.post('/items/update', function (req, res, next) {\n    Item.findOne({_id:req.body._id}, function (err, item) {\n       item.name = req.body.name;\n       item.qty = req.body.qty;\n    });\n});\n\nrouter.post('/items/add', function (req, res, next) {\n    let newItem = new Item();\n    newItem.name = req.body.name;\n    newItem.price = req.body.price;\n    newItem.qty = req.body.qty;\n\n    if (req.body.watt) newItem.rating.watt = req.body.watt;\n\n    newItem.save(function (err, item) {\n        if(err)return res.send(err);\n        res.json(item);\n    })\n\n});\nmodule.exports = router;"]}